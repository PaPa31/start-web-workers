<!DOCTYPE HTML>
<title>Shared workers: demo 3</title>
<pre id="log">Log:</pre>
<script>
    var worker = new SharedWorker('test.js');
    var log = document.getElementById('log');
    worker.port.addEventListener('message', function (e) {
        log.textContent += '\n' + e.data;
    }, false);
    worker.port.start();
    worker.port.postMessage('ping');
</script>
<iframe src="inner.html"></iframe>

<!-- Finally, the example is extended to show how two pages can connect to the same worker; in this case, the second page is merely in an iframe on the first page, but the same principle would apply to an entirely separate page in a separate top-level browsing context. -->